<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>utilities.py</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>utilities.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <h1>Library of utility methods</h1>
<p>Provides a library of generic methods re-used across the Cashflow Application (aka Bankifi demo).</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p><strong>Available Methods</strong></p>
<ol>
<li><strong><em>due_date</em></strong> - Calculates the due date from today given a number of day from now as a parameter.</li>
<li><strong><em>random_date</em></strong> - Provides a random date with a base date as an input and a number of days as 
the max date range value.</li>
<li><strong><em>month_name</em></strong> - converts a month number to a full or abbreviated month name</li>
<li><strong><em>month_lag_lead</em></strong> - returns a list of leading and lagging months by abbreviated or full name</li>
<li><strong><em>month_lead</em></strong> - returns a list of leading months by abbreviated or full name</li>
<li><strong><em>month_lag</em></strong> - returns a list of lagging months by abbreviated or full name</li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <h3><span id="imports" href="imports"> Imports </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <p>Import Python modules</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">choice</span><span class="p">,</span> <span class="n">randrange</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <h3><span id="utility-methods" href="utility-methods"> Utility Methods </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <p><strong>due_date(days=28)</strong></p>
<p>Calculates the due date from today given a number of days from now as a parameter.</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>days</em></strong>: number of days to offset the due date into the future. Defaults to 28 days.</p>
<p><strong>Returns:</strong></p>
<p>The due date.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">due_date</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">28</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">days</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <p><strong>random_date(numdays=0, base=datetime.today())</strong></p>
<p>Provides a random date with a base date as an input and a number of days in the past to offset the date to.</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>numdays</em></strong>: number of days in the past to offset to.</p>
<p><strong><em>base</em></strong>: base date to offset from.</p>
<p><strong>Returns:</strong> </p>
<p>A random date from the date range.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">random_date</span><span class="p">(</span><span class="n">numdays</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">choice</span><span class="p">([</span><span class="n">base</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">numdays</span><span class="p">)])</span> <span class="k">if</span> <span class="n">numdays</span> <span class="k">else</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <p><strong>month_name(month_number, full=False)</strong></p>
<p>Converts a month number to a full or abbreviated month name.</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>month_number</em></strong>: month number.</p>
<p><strong><em>full</em></strong>: True for full month name False for abbreviated name.
        Defaults to abbreviated name.</p>
<p><strong>Returns:</strong></p>
<p>A full or abbreviated month name.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">month_name</span><span class="p">(</span><span class="n">month_number</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="n">full</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">[</span><span class="n">month_number</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="n">month_number</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p><strong>month_lag_lead(months=1, full=False)</strong> </p>
<p>Provides a list of leading and lagging months names.</p>
<p>For example if month today is April month_lag_lead(1) would return [Mar, Apr, May].</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>months</em></strong>: number of months each side of this month to add to list.</p>
<p><strong><em>full</em></strong>: True for full month name False for abbreviated name.
        Defaults to abbreviated name.</p>
<p><strong>Returns:</strong></p>
<p>A list of full or abbreviated month names.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">month_lag_lead</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">month_now</span> <span class="o">=</span> <span class="p">[</span><span class="n">month_name</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">full</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">month_lag</span><span class="p">(</span><span class="n">months</span><span class="p">,</span> <span class="n">full</span><span class="p">)</span> <span class="o">+</span> <span class="n">month_now</span> <span class="o">+</span> <span class="n">month_lead</span><span class="p">(</span><span class="n">months</span><span class="p">,</span> <span class="n">full</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p><strong>month_lead(months=1, full=False)</strong></p>
<p>Provides a list of leading months names.</p>
<p>For example if month today is April month_lead(1) would return [May].</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>months</em></strong>: number of months beyond this month to add to list.</p>
<p><strong><em>full</em></strong>: True for full month name False for abbreviated name. Defaults to abbreviated name.</p>
<p><strong>Returns:</strong> </p>
<p>A list of full or abbreviated month names</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">month_lead</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">month_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">months</span><span class="p">):</span>
        <span class="n">month</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">month</span>
        <span class="n">month_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_name</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">full</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">month_list</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      <p><strong>month_lag(months=1, full=False)</strong>
Provides a list of lagging months names.</p>
<p>For example if month today is April month_lag(1) would return [Mar].</p>
<p><strong>Parameters:</strong></p>
<p><strong><em>months</em></strong>: number of months before this month to add to list.</p>
<p><strong><em>full</em></strong>: True for full month name False for abbreviated name. Defaults to abbreviated name.</p>
<p><strong>Returns:</strong></p>
<p>A list of full or abbreviated month names</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">month_lag</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">month_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">months</span><span class="p">):</span>
        <span class="n">month</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">month</span>
        <span class="n">month_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">month_name</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">full</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">month_list</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
